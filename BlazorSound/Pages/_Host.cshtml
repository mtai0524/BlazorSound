@page "/"
@namespace BlazorSound.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

}

<component type="typeof(App)" render-mode="ServerPrerendered" />
<script src="~/js/audio.js"></script>
<script src="~/js/musicplayerinterop.js"></script>
<script>
    window.switchTheme = function () {
        var isDarkMode = document.body.classList.contains('dark-mode');

        if (isDarkMode) {
            document.body.classList.remove('dark-mode');
            document.body.classList.add('light-mode');
            localStorage.setItem('dark-mode', 'false');
            return false;
        } else {
            document.body.classList.remove('light-mode');
            document.body.classList.add('dark-mode');
            localStorage.setItem('dark-mode', 'true');
            return true;
        }
    };

    window.initializeTheme = function () {
        const darkMode = localStorage.getItem('dark-mode') === 'true';
        document.body.classList.add(darkMode ? 'dark-mode' : 'light-mode');
        return darkMode;
    };

    window.initializeTheme();
</script>